# 博物馆新闻采集分析子系统

## 1. 导言

### 1.1 目的

该文档的目的是描述子系统的用户使用说明，其主要内容包括：
- 运行环境
- 安装与配置
- 操作说明

本文档的预期的读者是：
- 用户
- 前端使用接口的开发人员

### 1.2 范围

该文档定义了系统提交产品的使用说明，主要描述了产品的操作流程，以及配置说明。

### 1.3 缩写说明

- UML (Unified Modeling Language)
	
	UML(统一建模语言)是一种用于指定、可视化、构造和记录软件系统工件的标准语言。


### 1.4 术语定义

- 爬虫
	
	网络爬虫（又称为网页蜘蛛，网络机器人，在FOAF社区中间，更经常的称为网页追逐者），是一种按照一定的规则，自动地抓取万维网信息的程序或者脚本。另外一些不常使用的名字还有蚂蚁、自动索引、模拟程序或者蠕虫。


- 机器学习
	
	机器学习是一门多领域交叉学科，涉及概率论、统计学、逼近论、凸分析、算法复杂度理论等多门学科。专门研究计算机怎样模拟或实现人类的学习行为，以获取新的知识或技能，重新组织已有的知识结构使之不断改善自身的性能。
	它是人工智能的核心，是使计算机具有智能的根本途径。

- 文本分析
	
	文本分析是对文本进行解析，以便从中提取机器可读的事实。文本分析的目的是用自由文本内容创建结构化数据。这个过程可以看作是将一堆非结构化、异构的文档分割成易于管理和解释的数据块。

### 1.5 参考资料

- python参考资料：
	- [https://github.com/wistbean/learn_python3_spider](https://github.com/wistbean/learn_python3_spider)
	- [https://www.runoob.com/w3cnote/python-spider-intro.html](https://www.runoob.com/w3cnote/python-spider-intro.html)


## 2. 概述

该子系统是一个对数据进行获取、处理和分析的子系统，它使用了Scrapy框架技术，可运行在本地PC或Ubuntu服务器上，数据库系统为MySQL。此系统分为爬虫项目和服务端两部分，服务端为前端提供一个接口实现数据定制服务，可以获取指定博物馆在指定时间的正面或负面新闻。爬虫项目可以实现从网络爬取有关博物馆的新闻，从中提取中新闻的标题、时间、作者、有关博物馆以及新闻正负等信息。册

第三章介绍系统的运行环境，第四章介绍系统的安装与配置，第五章介绍系统的操作流程说明。

## 3. 运行环境

### 3.1 系统运行硬件环境

- 服务器
  - 配置信息
    - 操作系统
      - Ubuntu Server 18.04 1 LTS 64位
    - CPU
      - 1核
    - 内存
      - 2GB
    - 带宽
      - 1Mbps
  
- 客户机：普通PC

### 3.2 系统运行软件环境
- 操作系统
  - Win10/Macos/Linux
- 数据库
  - MySQL 或其他数据库操作软件
- 浏览器
  - Microsoft Edge/Google Chrome

## 4. 安装与配置

### 4.1 爬虫项目

- requests模块

```shell
# 安装方式
pip install requests
```

- beautifulsoup模块

```shell
# 安装方式
pip install beautifulsoup4
```


## 5. 操作说明

### 5.1 爬虫项目

> 运行目录：
  本地运行时在某一目录下项目根目录中执行以下指令

#### 5.1.1 xhw_v5.py爬虫

- 该爬虫用来从网页爬取新闻

- 本地运行：
  - `python xhw_v5.py` : 爬取指定博物馆在指定新闻网站上指定页数的新闻
  

#### 5.1.2 json2mysql_v3.py爬虫

- 该代码用于将本地数据上传数据库

- 本地运行：
  - `python json2mysql_v3.py`: 读取本地目录的新闻数据并上传
  
