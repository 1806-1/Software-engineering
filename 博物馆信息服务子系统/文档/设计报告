# 设计报告
## 1.导言
### 1.1 目的
该文档的目的是描述博物馆信息服务子系统的概要设计，其主要内容包括
+ 系统功能简介
+ 系统结构设计
+ 系统接口设计
+ 数据设计
+ 模块设计
+ 界面设计

本文档的预期读者是：
+ 开发人员
+ 项目管理人员
+ 测试人员

### 1.2 范围
本文档包括博物馆信息服务子系统的概要设计和详细设计两大部分，概要设计部分主要描述产品的模块划分、相互依赖关系和交互接口。详细设计部分主要描述概要设计部分关键功能的具体实现方法。
## 2. 系统分析
博物馆信息服务子系统可以实现博物馆安卓客户端的部分功能，包括以下内容：
+ 近期展览部分
	- 以列表形式展示近期展览，同时可以通过搜索框对展览进行关键词检索。
+ 博物馆部分
	- 以列表的形式展示博物馆，支持不同的排序优先级，同时也支持按照关键字查找。
+ 博物馆详细介绍部分
	- 用户可以浏览博物馆的详细信息、展览和藏品的概览信息、活动的新闻的内容，以及发表并查看评论。
+ 用户部分
 	- 基本的注册、登录功能。查看个人信息、个人讲解和个人评论等功能。
 	
 功能如下图：
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210524175111626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk3OTA2,size_16,color_FFFFFF,t_70)
## 3. 界面设计
+ 登录
	- 用户通过文本框输入用户名和密码并点击确定按钮完成登录。
+ 注册
	- 用户通过文本框输入用户名和密码并点击确定按钮完成注册。
+ 个人信息
	- 查看自己的用户名、邮箱和手机号码。
+ 我的讲解
	- 通过列表形式展示用户提交的讲解
+ 我的评论
	- 通过列表形式展示用户发表的评论
+ 博物馆介绍
	- 以文字和图片的形式展示博物馆的详细介绍。
+ 博物馆展览
	- 以列表的形式展示博物馆相关的文字简介和图片。
+ 博物馆活动
	- 以列表的形式展示博物馆相关活动的文字以及图片介绍。
+ 博物馆新闻
	- 以列表的形式展示博物馆相关新闻的文字以及图片。
+ 博物馆藏品
	- 以列表的形式展示博物馆相关的文字简介和图片。
+ 评论
	- 以列表的形式显示博物馆相关的用户评论，并可以通过底部的文本框键入并发表评论。

## 4. 体系结构
### 4.1 MVC架构
对于开发app应用程序，要从头设计并开发出一个可靠、稳定的框架不是一件容易的事情，随着开发技术的日趋成熟，在该开发领域出现了一些线程的优秀的框架，开发者可以直接使用他们，我们第三与第四小组经过协商讨论之后决定实现MVC框架，具体内容如下图所示。![在这里插入图片描述](https://img-blog.csdnimg.cn/20210524180358221.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk3OTA2,size_16,color_FFFFFF,t_70)
其中：
安卓端向Web服务器发送信息，控制器Controller将请求指向对应的Model模型。Model模型中主要是一些Java文件，用于处理来自安卓端的信息和相应的数据库以及文件操作。视图View，是Model模型处理完相应的信息之后，返回一个处理结果，并交由Web服务器返回给安卓前端。
### 4.2 系统运行环境

#### 4.2.1 网络结构图

网络拓构图如下图所示。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210524180614988.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk3OTA2,size_16,color_FFFFFF,t_70)


其中，Web服务器为本组组长的电脑主机，连接校园网，传递时使用校园网分配的IP地址。而数据库/文件服务器则为阿里云服务器，使用对应的公网IP地址。

#### 4.2.2 硬件环境

本系统的硬件环境如下：

+ Web服务器：
    - CPU：i5-8400 2.8GHz
    - 内存：16G
    - 硬盘：1T
    - 网卡：千兆
+ 数据库/文件服务器：
    - CPU：1核 2.0GHz
    - 内存：1G
    - 硬盘：50G

#### 4.2.3 软件环境

本系统的软件环境如下：

+ 操作系统：CentOS 7 / Windows 10
+ 数据库：Mysql 8.0
+ 开发工具包：JDK version 1.8
+ 开发环境：IntelliJ IDEA 2021.1.1 x64
+ Web服务器：Tomcat 10
+ App环境：安卓11

## 5. 接口说明
|接口名|接口描述|调用场景|
|:--:|:--:|:--:|
|/Activity|接收前端博物馆名，返回博物馆相关活动|博物馆活动页面|
|/Collection|接收前端博物馆名，返回博物馆藏品列表|博物馆藏品页面|
|/Comment|接收前端博物馆名，返回博物馆相关用户评论列表|博物馆评论页面|
|/Exhibition|接收前端博物馆名，返回博物馆展览列表|博物馆展览页面|
|/News|接收前端博物馆名，返回博物馆相关新闻|博物馆新闻页面|
|/Login|接收用户名密码，返回登录状态|登录页面|
|/Register|接收用户名、邮箱、手机和密码，返回注册状态|注册页面|

## 6. 详细设计
### 6.1 接口通信json属性说明
#### /Activity
请求方式：Post

请求内容：博物馆名称

返回Json格式如下

|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|Activity|JSONArray|保存活动列表的数组|

#### /Collection
请求方式：Post

请求内容：博物馆名称

返回Json格式如下：

|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|Collection|JSONArray|保存藏品列表的数组|

#### /Comment

请求方式：Post

请求内容：博物馆名称

返回Json格式如下：

|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|Comment|JSONArray|保存评论列表的数组|

#### /Exhibition

请求方式：Post

请求内容：博物馆名称

返回Json格式如下：

|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|Exhibition|JSONArray|保存展览列表的数组|

#### /News

请求方式：Post

请求内容：博物馆名称

返回Json格式如下：

|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|News|JSONArray|保存新闻列表的数组|


#### /Login
请求方式：Get

请求内容：用户名（username）与密码（password）

返回Json格式如下：
|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|success|String|操作是否成功|
|id|String|用户id|
|email|String|用户邮箱|
|phone|String|用户手机|
|name|String|用户名|
|status|String|用户状态|

#### /Register
请求方式：Get

请求内容：用户名（username）、密码（password）、邮箱（email）、手机号码（phone）

返回Json格式如下：
|json属性名|属性类型|说明|
|:--:|:--:|:--:|
|success|String|操作是否成功|
|id|String|用户id|
|email|String|用户邮箱|
|phone|String|用户手机|
|name|String|用户名|
|status|String|用户状态|
